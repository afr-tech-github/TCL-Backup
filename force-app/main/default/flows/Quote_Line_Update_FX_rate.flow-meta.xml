<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <assignments>
        <name>Assign_block_flow</name>
        <label>Assign block flow</label>
        <locationX>1017</locationX>
        <locationY>671</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.Block_flow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>blockflowcheckbox</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Quote_Line</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate</name>
        <label>Assign Fx rate</label>
        <locationX>764</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.FxRateID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Fx_rate.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateBuying__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateBuyingVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateBuyingUSD__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateBuyingUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Fx_rate_selling</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate_0</name>
        <label>Assign Fx rate</label>
        <locationX>923</locationX>
        <locationY>586</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate_0_0</name>
        <label>Assign Fx rate</label>
        <locationX>1112</locationX>
        <locationY>434</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateBuying__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateBuyingVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateBuyingUSD__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateBuyingUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Fx_rate_selling_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate_0_0_0</name>
        <label>Assign Fx rate</label>
        <locationX>348</locationX>
        <locationY>428</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.FxRateID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Fx_rate_0.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateBuying__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateBuyingVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateBuyingUSD__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateBuyingUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BuyingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate_selling</name>
        <label>Assign Fx rate selling</label>
        <locationX>770</locationX>
        <locationY>883</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.FxRateIDSelling__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Fx_rate_selling.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateSelling__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateSellingVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateSellingUSD__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateSellingUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate_selling_0</name>
        <label>Assign Fx rate selling</label>
        <locationX>1199</locationX>
        <locationY>726</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateSelling__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateSellingVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateSellingUSD__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateSellingUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Fx_rate_selling_0_0</name>
        <label>Assign Fx rate selling</label>
        <locationX>550</locationX>
        <locationY>905</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.FxRateIDSelling__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Fx_rate_selling_0.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateSelling__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateSellingVND</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.ExchangeRateSellingUSD__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExchangeRateSellingUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceUSD</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SellingListPriceVND</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_record</name>
        <label>Assign record</label>
        <locationX>817</locationX>
        <locationY>356</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>which_changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_usd</name>
        <label>Assign usd</label>
        <locationX>379</locationX>
        <locationY>716</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.BuyingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Fx_rate_selling</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_usd_0</name>
        <label>Assign usd</label>
        <locationX>53</locationX>
        <locationY>695</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.BuyingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_usd_Selling</name>
        <label>Assign usd Selling</label>
        <locationX>671</locationX>
        <locationY>930</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SellingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_usd_Selling_0</name>
        <label>Assign usd Selling</label>
        <locationX>423</locationX>
        <locationY>1049</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceFCY__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SellingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Vn</name>
        <label>Assign Vn</label>
        <locationX>376</locationX>
        <locationY>584</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.BuyingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Fx_rate_selling</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Vn_0</name>
        <label>Assign Vn</label>
        <locationX>50</locationX>
        <locationY>563</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.BuyingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.BuyingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Vn_Selling</name>
        <label>Assign Vn Selling</label>
        <locationX>668</locationX>
        <locationY>798</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SellingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Vn_Selling_0</name>
        <label>Assign Vn Selling</label>
        <locationX>352</locationX>
        <locationY>938</locationY>
        <assignmentItems>
            <assignToReference>Recordforupdate.SellingListPriceLocal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SellingListPriceActual__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_block_flow</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Buying_rate_not_null</name>
        <label>Buying rate not null</label>
        <locationX>563</locationX>
        <locationY>571</locationY>
        <defaultConnector>
            <targetReference>Get_Fx_rate_selling</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate</targetReference>
            </connector>
            <label>True</label>
        </rules>
        <rules>
            <name>null_Fxrate_vnd_buying</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencyBuying__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>VND</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Vn</targetReference>
            </connector>
            <label>null Fxrate vnd buying</label>
        </rules>
        <rules>
            <name>null_fx_rate_usd_buying</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencyBuying__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_usd</targetReference>
            </connector>
            <label>null fx rate usd buying</label>
        </rules>
    </decisions>
    <decisions>
        <name>Buying_rate_not_null_0</name>
        <label>Buying rate not null</label>
        <locationX>237</locationX>
        <locationY>549</locationY>
        <defaultConnector>
            <targetReference>Assign_block_flow</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>True_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate_0_0_0</targetReference>
            </connector>
            <label>True</label>
        </rules>
        <rules>
            <name>null_Fxrate_vnd_buying_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencyBuying__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>VND</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Vn_0</targetReference>
            </connector>
            <label>null Fxrate vnd buying</label>
        </rules>
        <rules>
            <name>null_fx_rate_usd_buying_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencyBuying__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_usd_0</targetReference>
            </connector>
            <label>null fx rate usd buying</label>
        </rules>
    </decisions>
    <decisions>
        <name>Selling_rate_not_null</name>
        <label>Selling rate not null</label>
        <locationX>762</locationX>
        <locationY>722</locationY>
        <defaultConnector>
            <targetReference>Assign_block_flow</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>True_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_selling</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate_selling</targetReference>
            </connector>
            <label>True</label>
        </rules>
        <rules>
            <name>null_Fxrate_vnd_selling</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_selling</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencySelling__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>VND</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Vn_Selling</targetReference>
            </connector>
            <label>null Fxrate vnd selling</label>
        </rules>
        <rules>
            <name>null_Fxrate_usd_selling</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_selling</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencySelling__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_usd_Selling</targetReference>
            </connector>
            <label>null Fxrate usd selling</label>
        </rules>
    </decisions>
    <decisions>
        <name>Selling_rate_not_null_0</name>
        <label>Selling rate not null</label>
        <locationX>443</locationX>
        <locationY>858</locationY>
        <defaultConnector>
            <targetReference>Assign_block_flow</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>True_0_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_selling_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate_selling_0_0</targetReference>
            </connector>
            <label>True</label>
        </rules>
        <rules>
            <name>null_Fxrate_vnd_selling_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_selling_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencySelling__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>VND</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Vn_Selling_0</targetReference>
            </connector>
            <label>null Fxrate vnd selling</label>
        </rules>
        <rules>
            <name>null_Fxrate_usd_selling_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Fx_rate_selling_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencySelling__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_usd_Selling_0</targetReference>
            </connector>
            <label>null Fxrate usd selling</label>
        </rules>
    </decisions>
    <decisions>
        <name>which_changed</name>
        <label>which changed</label>
        <locationX>806</locationX>
        <locationY>483</locationY>
        <defaultConnector>
            <targetReference>Assign_block_flow</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Isnew</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ISnewCheck</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fx_rate</targetReference>
            </connector>
            <label>Isnew</label>
        </rules>
        <rules>
            <name>Exchange_Rate_is_change</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ExchangeRateBuying__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ExchangeRateBuyingUSD__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ExchangeRateSelling__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ExchangeRateSellingUSD__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate_0</targetReference>
            </connector>
            <label>Exchange Rate is change</label>
        </rules>
        <rules>
            <name>Fx_Rate_is_change</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FxRateID__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FxRateIDSelling__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate_0_0</targetReference>
            </connector>
            <label>Fx Rate is change</label>
        </rules>
        <rules>
            <name>List_Price_is_change</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4</conditionLogic>
            <conditions>
                <leftValueReference>$Record.BuyingListPriceActual__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SellingListPriceActual__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencyBuying__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CurrencySelling__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Fx_rate_0</targetReference>
            </connector>
            <label>List Price is change</label>
        </rules>
        <rules>
            <name>Ischange_Currency_Buying_Null_FxRate_Id</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CurrencyBuying__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FxRateID__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fx_rate_0</targetReference>
            </connector>
            <label>Ischange Currency Buying Null FxRate Id</label>
        </rules>
        <rules>
            <name>Ischange_Currency_Selling_Null_FxRate_Id</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CurrencySelling__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FxRateIDSelling__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Fx_rate_selling_0</targetReference>
            </connector>
            <label>Ischange Currency Selling Null FxRate Id</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>blockflowcheckbox</name>
        <dataType>Boolean</dataType>
        <expression>IF({!Recordforupdate.Block_flow__c} = TRUE, FALSE, TRUE)</expression>
    </formulas>
    <formulas>
        <name>BuyingListPriceUSD</name>
        <dataType>Number</dataType>
        <expression>IF(TEXT({!Recordforupdate.CurrencyBuying__c})&lt;&gt;&apos;VND&apos;,IF(ISBLANK({!Recordforupdate.ExchangeRateBuyingUSD__c}),0,{!Recordforupdate.ExchangeRateBuyingUSD__c}*{!Recordforupdate.BuyingListPriceActual__c}), {!Recordforupdate.BuyingListPriceActual__c}/{!Recordforupdate.ExchangeRateBuyingUSD__c})</expression>
        <scale>3</scale>
    </formulas>
    <formulas>
        <name>BuyingListPriceVND</name>
        <dataType>Number</dataType>
        <expression>IF(ISBLANK({!Recordforupdate.ExchangeRateBuying__c}),0,{!Recordforupdate.BuyingListPriceActual__c}*{!Recordforupdate.ExchangeRateBuying__c})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>CurrencyBuying</name>
        <dataType>String</dataType>
        <expression>CASE(TEXT({!$Record.CurrencyBuying__c}), &apos;VND&apos;,&apos;USD&apos;, &apos;USD&apos;,&apos;USD&apos;, &apos;KHR&apos;, &apos;KHR&apos;, &apos;JPY&apos;,&apos;JPY&apos;,&apos;KRW&apos;, &apos;KRW&apos;,&apos;EUR&apos;, &apos;EUR&apos;, &apos;GBP&apos;, &apos;GBP&apos;,&apos;CHF&apos;, &apos;CHF&apos;, null)</expression>
    </formulas>
    <formulas>
        <name>CurrencySelling</name>
        <dataType>String</dataType>
        <expression>CASE(TEXT({!$Record.CurrencySelling__c}), &apos;VND&apos;,&apos;USD&apos;, &apos;USD&apos;,&apos;USD&apos;, &apos;KHR&apos;, &apos;KHR&apos;, &apos;JPY&apos;,&apos;JPY&apos;,&apos;KRW&apos;, &apos;KRW&apos;,&apos;EUR&apos;, &apos;EUR&apos;, &apos;GBP&apos;, &apos;GBP&apos;,&apos;CHF&apos;, &apos;CHF&apos;, null)</expression>
    </formulas>
    <formulas>
        <name>ExchangeRateBuyingUSD</name>
        <dataType>Number</dataType>
        <expression>IF(TEXT({!Recordforupdate.CurrencyBuying__c})=&apos;VND&apos;,{!Recordforupdate.FxRateID__r.BuyingFxRatetoVND__c},{!Recordforupdate.FxRateID__r.BuyingFxRatetoUSD__c})</expression>
        <scale>3</scale>
    </formulas>
    <formulas>
        <name>ExchangeRateBuyingVND</name>
        <dataType>Number</dataType>
        <expression>IF(TEXT({!Recordforupdate.CurrencyBuying__c})=&apos;VND&apos;,1,{!Recordforupdate.FxRateID__r.BuyingFxRatetoVND__c})</expression>
        <scale>3</scale>
    </formulas>
    <formulas>
        <name>ExchangeRateSellingUSD</name>
        <dataType>Number</dataType>
        <expression>IF(TEXT({!Recordforupdate.CurrencySelling__c}) =&apos;VND&apos;,{!Recordforupdate.FxRateIDSelling__r.SellingFxRatetoVND__c},{!Recordforupdate.FxRateIDSelling__r.SellingFxRatetoUSD__c})</expression>
        <scale>3</scale>
    </formulas>
    <formulas>
        <name>ExchangeRateSellingVND</name>
        <dataType>Number</dataType>
        <expression>IF(TEXT({!Recordforupdate.CurrencySelling__c})=&apos;VND&apos;,1, {!Recordforupdate.FxRateIDSelling__r.SellingFxRatetoVND__c})</expression>
        <scale>3</scale>
    </formulas>
    <formulas>
        <name>ISnewCheck</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>SellingListPriceUSD</name>
        <dataType>Number</dataType>
        <expression>IF(TEXT({!Recordforupdate.CurrencySelling__c})&lt;&gt;&apos;VND&apos;,IF(ISBLANK({!Recordforupdate.ExchangeRateSellingUSD__c}),0,{!Recordforupdate.SellingListPriceActual__c}*{!Recordforupdate.ExchangeRateSellingUSD__c}),{!Recordforupdate.SellingListPriceActual__c}/{!Recordforupdate.ExchangeRateSellingUSD__c})</expression>
        <scale>3</scale>
    </formulas>
    <formulas>
        <name>SellingListPriceVND</name>
        <dataType>Number</dataType>
        <expression>IF(ISBLANK({!Recordforupdate.ExchangeRateSelling__c}),0,{!Recordforupdate.SellingListPriceActual__c}*{!Recordforupdate.ExchangeRateSelling__c})</expression>
        <scale>0</scale>
    </formulas>
    <interviewLabel>Quote Line | Update FX rate {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Quote Line | Update FX rate</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Fx_rate</name>
        <label>Get Fx rate</label>
        <locationX>553</locationX>
        <locationY>402</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Buying_rate_not_null</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Start_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>End_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Active1__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeRateType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Tỷ giá buổi sáng của VCB</stringValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeCurrencyFrom1__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CurrencyBuying</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FxRate__c</object>
        <sortField>Start_Date__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Fx_rate_0</name>
        <label>Get Fx rate</label>
        <locationX>227</locationX>
        <locationY>381</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Buying_rate_not_null_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Start_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>End_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Active1__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeRateType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Tỷ giá buổi sáng của VCB</stringValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeCurrencyFrom1__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CurrencyBuying</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FxRate__c</object>
        <sortField>Start_Date__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Fx_rate_selling</name>
        <label>Get Fx rate selling</label>
        <locationX>575</locationX>
        <locationY>720</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Selling_rate_not_null</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Start_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>End_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Active1__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeRateType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Tỷ giá buổi sáng của VCB</stringValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeCurrencyFrom1__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CurrencySelling</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FxRate__c</object>
        <sortField>Start_Date__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Fx_rate_selling_0</name>
        <label>Get Fx rate selling</label>
        <locationX>276</locationX>
        <locationY>790</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Selling_rate_not_null_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Start_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>End_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Active1__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeRateType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Tỷ giá buổi sáng của VCB</stringValue>
            </value>
        </filters>
        <filters>
            <field>ExchangeCurrencyFrom1__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CurrencySelling</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FxRate__c</object>
        <sortField>Start_Date__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Quote_Line</name>
        <label>Update Quote Line</label>
        <locationX>1017</locationX>
        <locationY>868</locationY>
        <inputReference>Recordforupdate</inputReference>
    </recordUpdates>
    <start>
        <locationX>688</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>Assign_record</targetReference>
        </connector>
        <filterFormula>OR(ISNEW(),AND(NOT(ISCHANGED({!$Record.Block_flow__c})),OR(ISCHANGED({!$Record.CurrencyBuying__c}),ISCHANGED({!$Record.CurrencySelling__c}),
ISCHANGED({!$Record.FxRateID__c}),
ISCHANGED({!$Record.FxRateIDSelling__c}),
ISCHANGED({!$Record.ExchangeRateBuyingUSD__c}),
ISCHANGED({!$Record.ExchangeRateBuying__c}),
ISCHANGED({!$Record.ExchangeRateSellingUSD__c}),
ISCHANGED({!$Record.ExchangeRateSelling__c}),
ISCHANGED({!$Record.BuyingListPriceActual__c}),
ISCHANGED({!$Record.SellingListPriceActual__c}))))</filterFormula>
        <object>Quoteline__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>Recordforupdate</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Quoteline__c</objectType>
    </variables>
</Flow>
